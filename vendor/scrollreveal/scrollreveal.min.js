(function(a,b){if(typeof define==="function"&&define.amd){define(b)}else{if(typeof exports==="object"){module.exports=b(require,exports,module)}else{a.ScrollReveal=b()}}}(this,function(b,a,c){(function(){var e,d,f;this.ScrollReveal=(function(){q.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:0.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:null,mobile:true,reset:true,useDelay:"always",viewFactor:0.2,viewOffset:{top:0,right:0,bottom:0,left:0},afterReveal:function(C){},afterReset:function(C){}};function q(C){if(typeof this=="undefined"||Object.getPrototypeOf(this)!==q.prototype){return new q(C)}e=this;e.tools=new d();if(e.isSupported()){e.tools.extend(e.defaults,C||{});l(e.defaults);e.store={elements:{},containers:[]};e.sequences={};e.history=[];e.uid=0;e.initialized=false}else{if(typeof console!=="undefined"&&console!==null){console.log("ScrollReveal is not supported in this browser.")}}return e}q.prototype.isSupported=function(){var C=document.documentElement.style;return"WebkitTransition" in C&&"WebkitTransform" in C||"transition" in C&&"transform" in C};q.prototype.reveal=function(I,G,E,L){var D,C,H,F,J,M;if(G&&G.container){D=l(G)}else{D=e.defaults.container}if(e.tools.isNode(I)){C=[I]}else{C=Array.prototype.slice.call(D.querySelectorAll(I))}if(!C.length){console.log('ScrollReveal: reveal on "'+I+'" failed, no elements found.');return e}if(G&&typeof G=="number"){E=G;G={}}if(E&&typeof E=="number"){M=k();J=e.sequences[M]={id:M,interval:E,elemIds:[],active:false}}for(var K=0;K<C.length;K++){F=C[K].getAttribute("data-sr-id");if(F){H=e.store.elements[F]}else{H={id:k(),domEl:C[K],seen:false,revealing:false};H.domEl.setAttribute("data-sr-id",H.id)}if(J){H.sequence={id:J.id,index:J.elemIds.length};J.elemIds.push(H.id)}n(H,G||{});o(H);g(H);if(e.tools.isMobile()&&!H.config.mobile||!e.isSupported()){H.domEl.setAttribute("style",H.styles.inline);H.disabled=true}else{if(!H.revealing){H.domEl.setAttribute("style",H.styles.inline+H.styles.transform.initial)}}}if(!L&&e.isSupported()){u(I,G);if(e.initTimeout){window.clearTimeout(e.initTimeout)}e.initTimeout=window.setTimeout(p,0)}return e};q.prototype.sync=function(){if(e.history.length&&e.isSupported()){for(var D=0;D<e.history.length;D++){var C=e.history[D];e.reveal(C.selector,C.config,C.interval,true)}p()}else{console.log("ScrollReveal: sync failed, no reveals found.")}return e};function l(D){var C=D.container;if(C&&typeof C=="string"){return D.container=window.document.querySelector(C)}else{if(C&&!e.tools.isNode(C)){console.log("ScrollReveal: Invalid container provided, using <html> instead.");D.container=null}}if(C==null){D.container=window.document.documentElement}return D.container}function k(){return ++e.uid}function n(D,C){if(!D.config){D.config=e.tools.extendClone(e.defaults,C)}else{D.config=e.tools.extendClone(D.config,C)}if(D.config.origin==="top"||D.config.origin==="bottom"){D.config.axis="Y"}else{D.config.axis="X"}if(D.config.origin==="top"||D.config.origin==="left"){D.config.distance="-"+D.config.distance}}function o(D){var C=window.getComputedStyle(D.domEl);if(!D.styles){D.styles={transition:{},transform:{},computed:{}};D.styles.inline=D.domEl.getAttribute("style")||"";D.styles.inline+="; visibility: visible; ";D.styles.computed.opacity=C.opacity;if(!C.transition||C.transition=="all 0s ease 0s"){D.styles.computed.transition=""}else{D.styles.computed.transition=C.transition+", "}}D.styles.transition.instant=z(D,0);D.styles.transition.delayed=z(D,D.config.delay);D.styles.transform.initial=" -webkit-transform:";D.styles.transform.target=" -webkit-transform:";m(D);D.styles.transform.initial+="transform:";D.styles.transform.target+="transform:";m(D)}function z(E,D){var C=E.config;return"-webkit-transition: "+E.styles.computed.transition+"-webkit-transform "+C.duration/1000+"s "+C.easing+" "+D/1000+"s, opacity "+C.duration/1000+"s "+C.easing+" "+D/1000+"s; transition: "+E.styles.computed.transition+"transform "+C.duration/1000+"s "+C.easing+" "+D/1000+"s, opacity "+C.duration/1000+"s "+C.easing+" "+D/1000+"s; "}function m(E){var D=E.config;var C=E.styles.transform;if(parseInt(D.distance)){C.initial+=" translate"+D.axis+"("+D.distance+")";C.target+=" translate"+D.axis+"(0)"}if(D.scale){C.initial+=" scale("+D.scale+")";C.target+=" scale(1)"}if(D.rotate.x){C.initial+=" rotateX("+D.rotate.x+"deg)";C.target+=" rotateX(0)"}if(D.rotate.y){C.initial+=" rotateY("+D.rotate.y+"deg)";C.target+=" rotateY(0)"}if(D.rotate.z){C.initial+=" rotateZ("+D.rotate.z+"deg)";C.target+=" rotateZ(0)"}C.initial+="; opacity: "+D.opacity+";";C.target+="; opacity: "+E.styles.computed.opacity+";"}function g(D){var C=D.config.container;if(C&&e.store.containers.indexOf(C)==-1){e.store.containers.push(D.config.container)}e.store.elements[D.id]=D}function u(C,F,E){var D={selector:C,config:F,interval:E};e.history.push(D)}function p(){if(e.isSupported()){y();for(var C=0;C<e.store.containers.length;C++){e.store.containers[C].addEventListener("scroll",v);e.store.containers[C].addEventListener("resize",v)}if(!e.initialized){window.addEventListener("scroll",v);window.addEventListener("resize",v);e.initialized=true}}return e}function v(){f(y)}function h(){var D,C,E,F;e.tools.forOwn(e.sequences,function(H){F=e.sequences[H];D=false;for(var G=0;G<F.elemIds.length;G++){E=F.elemIds[G];C=e.store.elements[E];if(t(C)&&!D){D=true}}F.active=D})}function y(){var C,D;h();e.tools.forOwn(e.store.elements,function(E){D=e.store.elements[E];C=r(D);if(x(D)){if(C){D.domEl.setAttribute("style",D.styles.inline+D.styles.transform.target+D.styles.transition.delayed)}else{D.domEl.setAttribute("style",D.styles.inline+D.styles.transform.target+D.styles.transition.instant)}B("reveal",D,C);D.revealing=true;D.seen=true;if(D.sequence){s(D,C)}}else{if(j(D)){D.domEl.setAttribute("style",D.styles.inline+D.styles.transform.initial+D.styles.transition.instant);B("reset",D);D.revealing=false}}})}function s(F,E){var C=0,D=0,G=e.sequences[F.sequence.id];G.blocked=true;if(E&&F.config.useDelay=="onload"){D=F.config.delay}if(F.sequence.timer){C=Math.abs(F.sequence.timer.started-new Date());window.clearTimeout(F.sequence.timer)}F.sequence.timer={started:new Date()};F.sequence.timer.clock=window.setTimeout(function(){G.blocked=false;F.sequence.timer=null;v()},Math.abs(G.interval)+D-C)}function B(E,F,D){var C=0,G=0,H="after";switch(E){case"reveal":G=F.config.duration;if(D){G+=F.config.delay}H+="Reveal";break;case"reset":G=F.config.duration;H+="Reset";break}if(F.timer){C=Math.abs(F.timer.started-new Date());window.clearTimeout(F.timer.clock)}F.timer={started:new Date()};F.timer.clock=window.setTimeout(function(){F.config[H](F.domEl);F.timer=null},G-C)}function x(C){if(C.sequence){var D=e.sequences[C.sequence.id];return D.active&&!D.blocked&&!C.revealing&&!C.disabled}return t(C)&&!C.revealing&&!C.disabled}function r(D){var C=D.config.useDelay;return C==="always"||(C==="onload"&&!e.initialized)||(C==="once"&&!D.seen)}function j(C){if(C.sequence){var D=e.sequences[C.sequence.id];return !D.active&&C.config.reset&&C.revealing&&!C.disabled}return !t(C)&&C.config.reset&&C.revealing&&!C.disabled}function i(C){return{width:C.clientWidth,height:C.clientHeight}}function A(C){if(C&&C!==window.document.documentElement){var D=w(C);return{x:C.scrollLeft+D.left,y:C.scrollTop+D.top}}else{return{x:window.pageXOffset,y:window.pageYOffset}}}function w(D){var F=0,G=0,C=D.offsetHeight,E=D.offsetWidth;do{if(!isNaN(D.offsetTop)){F+=D.offsetTop}if(!isNaN(D.offsetLeft)){G+=D.offsetLeft}}while(D=D.offsetParent);return{top:F,left:G,height:C,width:E}}function t(G){var K=w(G.domEl),D=i(G.config.container),E=A(G.config.container),O=G.config.viewFactor,F=K.height,J=K.width,N=K.top,L=K.left,H=N+F,C=L+J;return I()||M();function I(){var W=N+F*O,V=L+J*O,Q=H-F*O,U=C-J*O,P=E.y+G.config.viewOffset.top,S=E.x+G.config.viewOffset.left,R=E.y-G.config.viewOffset.bottom+D.height,T=E.x-G.config.viewOffset.right+D.width;return W<R&&Q>P&&V>S&&U<T}function M(){return(window.getComputedStyle(G.domEl).position==="fixed")}}return q})();d=(function(){g.prototype.isObject=function(h){return h!==null&&typeof h==="object"&&h.constructor==Object};g.prototype.isNode=function(h){return typeof Node==="object"?h instanceof Node:h&&typeof h==="object"&&typeof h.nodeType==="number"&&typeof h.nodeName==="string"};g.prototype.forOwn=function(h,j){if(!this.isObject(h)){throw new TypeError('Expected "object", but received "'+typeof h+'".')}else{for(var i in h){if(h.hasOwnProperty(i)){j(i)}}}};g.prototype.extend=function(i,h){this.forOwn(h,function(j){if(this.isObject(h[j])){if(!i[j]||!this.isObject(i[j])){i[j]={}}this.extend(i[j],h[j])}else{i[j]=h[j]}}.bind(this));return i};g.prototype.extendClone=function(i,h){return this.extend(this.extend({},i),h)};g.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};function g(){}return g})();f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}).call(this);return this.ScrollReveal}));